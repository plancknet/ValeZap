<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ValeZap Chat</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="app-shell">
        <div class="chat-surface">
            <header class="chat-header">
                <div class="header-left">
                    <div class="avatar">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M21.5 12.2a9.5 9.5 0 0 1-13.5 7.8l-4.5 1.5 1.5-4.5A9.5 9.5 0 1 1 21.5 12.2z" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M12.8 14.9a3.6 3.6 0 0 1-3.2-1.8 3.6 3.6 0 0 1-.4-1.6c0-.3.1-.6.2-.9l.1-.1c.1-.2.2-.3.4-.4.2-.2.4-.1.6-.1h.1c.2 0 .3.1.4.3l.4.6c.1.1.1.2.1.3 0 .2-.1.4-.2.5l-.1.1c-.1.1-.2.2-.1.3.1.3.6 1.1 1 1.5.5.4 1 .6 1.1.7.1 0 .2 0 .2-.1l.4-.5c.1-.1.2-.1.3-.2h.3c.2 0 .4 0 .6.1.2.1.4.3.4.4l.2.4c.1.2 0 .4 0 .6-.2.4-.6.8-.9 1-.3.3-.9.5-1.4.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="header-title">
                        <h1>ValeZap</h1>
                        <span id="status-indicator">Online</span>
                    </div>
                </div>
                <button class="header-action" type="button" aria-label="Mais opções">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 6.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm0 6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm0 6a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z" fill="currentColor"/>
                    </svg>
                </button>
            </header>

            <main class="messages-panel" id="messages-panel">
                <div class="placeholder-state" id="placeholder-state">
                    <div class="placeholder-icon">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M21.5 12.2a9.5 9.5 0 0 1-13.5 7.8l-4.5 1.5 1.5-4.5A9.5 9.5 0 1 1 21.5 12.2z" fill="var(--whatsapp-green)" fill-opacity="0.35" stroke="none" />
                        </svg>
                    </div>
                    <p>Olá! Sou o ValeZap. Como posso te ajudar hoje?</p>
                </div>
                <div id="messages-wrapper"></div>
            </main>

            <footer class="chat-input">
                <form class="chat-form" id="chat-form" data-client-key="{{ client_api_key }}">
                    <textarea id="chat-message" name="message" placeholder="Digite uma mensagem..." rows="1" autocomplete="off"></textarea>
                    <button class="send-button" type="submit" id="send-button" disabled>
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path d="m3.4 20.6 17.4-8.6a1 1 0 0 0 0-1.8L3.4 1.6a1 1 0 0 0-1.4 1.2l2.7 7.6a1 1 0 0 1 0 .7L2 18.6a1 1 0 0 0 1.4 2Z" />
                        </svg>
                    </button>
                </form>
            </footer>
        </div>
        <div class="debug-bar" id="debug-bar"></div>
    </div>
    <script src="{{ url_for('static', filename='js/chat.js') }}" defer></script>
</body>
</html>